# ============================================
# MajorWorld Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp env.example .env

# ============================================
# Server Configuration
# ============================================
PORT=3001
NODE_ENV=development

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=majorworld
DATABASE_PASSWORD=majorworld123
DATABASE_NAME=major_world

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
# Optional: Redis password if authentication is enabled
# REDIS_PASSWORD=

# ============================================
# JWT Authentication
# ============================================
# Secret key for JWT token signing (CHANGE IN PRODUCTION!)
JWT_SECRET=majorworld-secret-key-change-in-production
# Access token expiration (e.g., 5m, 1h, 7d)
JWT_EXPIRES_IN=5m
# Optional: Separate refresh token secret (defaults to JWT_SECRET if not set)
# JWT_REFRESH_SECRET=
# Refresh token expiration (e.g., 7d, 30d)
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Firebase Cloud Messaging (FCM)
# ============================================
# Firebase project configuration for push notifications
# Get these from Firebase Console > Project Settings > Service Accounts
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
# Private key from Firebase service account JSON (keep newlines as \n)
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYourPrivateKeyHere\n-----END PRIVATE KEY-----\n"

# ============================================
# AWS S3 Configuration (File Uploads)
# ============================================
# AWS credentials for S3 file storage
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
# AWS region (default: ap-northeast-2)
AWS_REGION=ap-northeast-2
# S3 bucket name for storing uploaded files (default: majorworld-assets)
AWS_S3_BUCKET=majorworld-assets

# ============================================
# Deep Link Configuration
# ============================================
# Base URL for deep link generation (optional, defaults to request host)
# DEEP_LINK_BASE_URL=https://your-domain.com

# iOS App Store URL (for deep link fallback)
# DEEP_LINK_IOS_STORE_URL=https://apps.apple.com/app/your-app-id

# Android Play Store URL (for deep link fallback)
# DEEP_LINK_ANDROID_STORE_URL=https://play.google.com/store/apps/details?id=your.package.name

# App URL template for deep links (e.g., "myapp://open?url={{url}}")
# DEEP_LINK_APP_URL_TEMPLATE=

# App scheme for deep links (e.g., "myapp")
# DEEP_LINK_APP_SCHEME=

# ============================================
# Test Device Tokens (Optional)
# ============================================
# Comma-separated list of device tokens for testing push notifications
# Format: "token1,token2,token3"
# TEST_DEVICE_TOKENS=

# ============================================
# Device Token Topic Sync (Worker)
# ============================================
# Interval (in minutes) for syncing pending tokens to topics
DEVICE_TOKEN_TOPIC_SYNC_INTERVAL_MINUTES=5
# Batch size for each sync run (max 1000 per topic call)
DEVICE_TOKEN_TOPIC_SYNC_BATCH_SIZE=500
# Maximum retry attempts for failed topic sync
DEVICE_TOKEN_TOPIC_SYNC_MAX_RETRIES=5
# Minimum delay (in minutes) between retry attempts
DEVICE_TOKEN_TOPIC_SYNC_RETRY_DELAY_MINUTES=10
